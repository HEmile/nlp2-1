
\usepackage{xspace}

\newenvironment{lessspace}%
{\setlength{\abovedisplayskip}{3pt}\setlength{\belowdisplayskip}{3pt}}
{}

% \setlength{\abovedisplayskip}{5pt}%
% \setlength{\belowdisplayskip}{5pt}%
\newenvironment{myalign*}{\begin{align*}}{\end{align*}}


\makeatletter
\def\blfootnote{\xdef\@thefnmark{}\@footnotetext}
\makeatother

%\everymath{\displaystyle}

%language acronyms
\newcommand{\pt}{\texttt{pt}\xspace}
\newcommand{\en}{\texttt{en}\xspace}
\newcommand{\es}{\texttt{es}\xspace}
\newcommand{\fr}{\texttt{fr}\xspace}
\newcommand{\de}{\texttt{de}\xspace}
\newcommand{\entoes}{\texttt{en-es}\xspace}
\newcommand{\entode}{\texttt{en-de}\xspace}

%latin acronyms
\newcommand{\ie}{i.e.\xspace}
\newcommand{\eg}{e.g.\xspace}
\newcommand{\wrt}{w.r.t.\xspace}


% new commands
\newcommand{\gist}[1]{\texttt{#1}}
\newcommand{\foreign}[1]{\textit{#1}}
\newcommand{\example}[1]{\textit{#1}}
\newcommand{\stexample}[2]{\textit{#1}/\gist{#2}}
\newcommand{\brackit}[2]{$_[$#2$_{]_{\text{#1}}}$}
\newcommand{\brackitupdown}[3]{$_[$#3$_{]_{\text{#1}}^{\text{#2}}}$}
\newcommand{\roleitupdown}[4]{$_{[_{\text{#1}}}$#4$_{]_{\text{#2}}^{\text{#3}}}$}
\newcommand{\indice}[1]{$_{#1}$}
\newcommand{\upindice}[1]{$^{#1}$}
\newcommand{\updownindice}[2]{$^{#1}_{#2}$}
\newcommand{\role}[2]{$_{[_{\text{#1}}}$#2$_]$}

\newcommand{\analysis}[1]{\texttt{#1}\xspace}
\newcommand{\textfrac}[2]{$\frac{\text{#1}}{\text{#2}}$}

\newcommand{\rfig}[1]{Figure \ref{fig:#1}\xspace}
\newcommand{\ralg}[1]{Algorithm \ref{alg:#1}\xspace}
\newcommand{\rtab}[1]{Table \ref{tab:#1}\xspace}
\newcommand{\rsec}[1]{\S \ref{sec:#1}\xspace}
\newcommand{\req}[1]{Equation \ref{eq:#1}\xspace}
\newcommand{\rch}[1]{Chapter \ref{cha:#1}\xspace}


% TEXT HELPER
\newcommand{\precite}[1]{{\color{red}(?#1?)}}
\newcommand{\fixme}[1]{{\color{red} [$_{FIXME}$} {\em #1} {\color{red}]}}
\newcommand{\elaborate}[1]{{\color{blue} [$_{ELABORATE}$} {\em #1} {\color{blue}]}}
\newcommand{\todo}[1]{\footnote{{\bf \color{red} TODO:} {\em #1} }}

% Dyer's stuff
\newcommand{\wset}[1]{\ensuremath{#1}}
\newcommand{\wrel}[1]{\ensuremath{\mathcal{#1}}}
\newcommand{\angbrack}[1]{\ensuremath{\left\langle #1 \right\rangle}}
\newcommand{\nobrack}[1]{\ensuremath{#1}}
\newcommand{\itembrack}[1]{\ensuremath{\left[ #1 \right]}}
\newcommand{\rulebrack}[1]{\ensuremath{\angbrack{#1}}}
\newcommand{\rhs}[1]{\ensuremath{\text{RHS}[#1]}}
\newcommand{\lhs}[1]{\ensuremath{\text{LHS}[#1]}}
\newcommand{\rhsi}[1]{\ensuremath{\text{RHS}_i[#1]}}
\newcommand{\rhso}[1]{\ensuremath{\text{RHS}_o[#1]}}
\newcommand{\gaps}{\ensuremath{\{\scriptsize{\boxed{1}}, \scriptsize{\boxed{2}}, \ldots\}}}
\newcommand{\gapone}{\ensuremath{\{\scriptsize{\boxed{1}}\}}}
\newcommand{\gap}[1]{\ensuremath{\scriptsize{\boxed{#1}}}}

\newcommand{\ralign}[1]{\multicolumn{1}{|r|}{#1}}

% OS*
\newcommand{\ustar}{\ensuremath{^{*}}\xspace}
\newcommand{\upplus}{\ensuremath{^{+}}\xspace}
\newcommand{\Astar}{A\ensuremath{^{*}}\xspace}
\newcommand{\OSstar}{OS\ensuremath{^{*}}\xspace}
\newcommand{\Lo}{\ensuremath{L^1}\xspace}
\newcommand{\Lp}{\ensuremath{L^p}\xspace}
\newcommand{\La}{\ensuremath{L^\alpha}\xspace}
\newcommand{\Li}{\ensuremath{L^\infty}\xspace}
\newcommand{\R}{\ensuremath{\mathbb{R}}\xspace}
\newcommand{\Rp}{\ensuremath{\mathbb{R}_+}\xspace}
\newcommand{\Lnorm}[2]{\ensuremath{\norm{#2}_#1 }\xspace}
\newcommand{\p}{\ensuremath{p}\xspace}
\newcommand{\q}{\ensuremath{q}\xspace}
\newcommand{\plm}{\ensuremath{p_{_{\text{LM}}}}\xspace}
\newcommand{\qlm}{\ensuremath{q_{_{\text{LM}}}}\xspace}
\newcommand{\pbar}{\ensuremath{\bar{\p}}\xspace}
\newcommand{\qbar}{\ensuremath{\bar{\q}}\xspace}

\newcommand{\ttA}{\texttt{A}\xspace}
\newcommand{\ttP}{\texttt{P}\xspace}
\newcommand{\ttx}{\texttt{x}\xspace}
\newcommand{\ttz}{\texttt{z}\xspace}
\newcommand{\ttZ}{\texttt{Z}\xspace}
\newcommand{\ttp}{\texttt{p}\xspace}
\newcommand{\ttb}{\texttt{b}\xspace}
\newcommand{\ttm}{\texttt{m}\xspace}
%% MD
% \newcommand{\ttw}{\texttt{w}\xspace}
\newcommand{\ttH}{\texttt{H}\xspace}
\newcommand{\ttq}{\texttt{q}\xspace}


%\newcommand{\myh}{\ensuremath{h}\xspace}
%\newcommand{\myH}{\ensuremath{H}\xspace}
%\newcommand{\myhh}{\ensuremath{\mathbf{\myh}}\xspace}
%\newcommand{\myHH}{\ensuremath{\mathbf{\myH}}\xspace}
\newcommand{\minp}{\ensuremath{\mathbf{x}}\xspace}
\newcommand{\mout}{\ensuremath{\mathbf{d}}\xspace}
\newcommand{\mInp}{\ensuremath{\mathcal{X}}\xspace}
\newcommand{\mOut}{\ensuremath{\mathcal{D}}\xspace}
\newcommand{\Reals}{\ensuremath{\mathbb{R}}}
\newcommand{\mTM}{\ensuremath{_{\mathtt{TM}}}}
\newcommand{\mLM}{\ensuremath{_{\mathtt{LM}}}}

\newcommand{\mx}{\ensuremath{x}\xspace}
\newcommand{\mxx}{\ensuremath{\mathbf{\mx}}\xspace}
\newcommand{\my}{\ensuremath{y}\xspace}
\newcommand{\myy}{\ensuremath{\mathbf{\my}}\xspace}
\newcommand{\me}{\ensuremath{e}\xspace}
\newcommand{\mdd}{\ensuremath{\mathbf{d}}\xspace}
\newcommand{\badmdd}{\ensuremath{\tilde{\mdd}}\xspace}
\newcommand{\mDD}{\ensuremath{\mathcal{D}}\xspace}
\newcommand{\mD}{\ensuremath{D}\xspace}
\newcommand{\mh}{\ensuremath{h}\xspace}
\newcommand{\mhh}{\ensuremath{\mathbf{\mh}}\xspace}
\newcommand{\mH}{\ensuremath{H}\xspace}
\newcommand{\mHH}{\ensuremath{\mathbf{\mH}}\xspace}

\newcommand{\opa}{\ensuremath{\text{a}}}
\newcommand{\opb}{\ensuremath{\text{b}}}
\newcommand{\opbi}{\ensuremath{\text{b}_x}}
\newcommand{\opbo}{\ensuremath{\text{b}_y}}
\newcommand{\opc}{\ensuremath{\text{c}}}
\newcommand{\opd}{\ensuremath{\text{d}}}
\newcommand{\oph}{\ensuremath{\text{h}}}
\newcommand{\opl}{\ensuremath{\text{l}}}
\newcommand{\ops}{\ensuremath{\text{s}}}
\newcommand{\opn}{\ensuremath{\text{n}}}
\newcommand{\opi}{\ensuremath{\text{i}}}
\newcommand{\opo}{\ensuremath{\text{o}}}
\newcommand{\opt}{\ensuremath{\text{t}}}
\newcommand{\opx}{\ensuremath{\text{x}}}
\newcommand{\opy}{\ensuremath{\text{y}}}
\newcommand{\opv}{\ensuremath{\text{v}}}

\newcommand{\boldu}{\ensuremath{\mathbf{u}}}
\newcommand{\boldv}{\ensuremath{\mathbf{v}}}




\newcommand{\mC}{\ensuremath{C}\xspace}
\newcommand{\mA}{\ensuremath{A}\xspace}
\newcommand{\mAA}{\ensuremath{\mathcal{\mA}}\xspace}

\newcommand{\mG}{\ensuremath{G}\xspace}

\newcommand{\mGG}{\ensuremath{\mathcal{\mG}}\xspace}

\newcommand{\mf}{\mxx}
%\newcommand{\mf}{\minp}

\newcommand{\mF}{\ensuremath{X}\xspace}
\newcommand{\mFF}{\ensuremath{\mathcal{\mF}}\xspace}

\newcommand{\pref}{\ensuremath{P}\xspace}
\newcommand{\suff}{\ensuremath{z}\xspace}
\newcommand{\hist}{\ensuremath{h}\xspace}
\newcommand{\prefsuff}{\ensuremath{\pref\suff}\xspace}
\newcommand{\NOT}{{\bf not}\xspace}

\newcommand{\mFGA}{\ensuremath{\mFF \circ \mGG \circ \mAA}\xspace}

%\newcommand{\mH}{\ensuremath{\mG(\mf)}\xspace}
%\newcommand{\mHa}{\ensuremath{\mG_a(\mf)}\xspace}
\newcommand{\mGf}{\ensuremath{\mG(\mxx)}\xspace}
\newcommand{\mRf}{\ensuremath{\mG'(\mf)}\xspace}
\newcommand{\mGA}{\ensuremath{\mG_{\inter \mA}}\xspace}
%\newcommand{\mHA}{\mGA}
\newcommand{\mX}{\ensuremath{X}\xspace}

\newcommand{\winter}[2]{\ensuremath{\langle #1, #2 \rangle}\xspace}
\newcommand{\semiring}[1]{\ensuremath{\mathbb{#1}}\xspace}

\newcommand{\bzero}{\ensuremath{\bar{0}}\xspace}
\newcommand{\bone}{\ensuremath{\bar{1}}\xspace}
\newcommand{\bos}{\text{\scriptsize BOS}\xspace}
\newcommand{\eos}{\text{\scriptsize EOS}\xspace}


\newcommand{\ant}[3]{\ensuremath{\xspace\tensor[_{#1}]{{#2}}{_{#3}}}\xspace}

\newcommand{\xt}[1]{\ensuremath{x^{(#1)}}\xspace}
\newcommand{\ti}[2]{\ensuremath{{#1}^{#2}}\xspace}
\newcommand{\ix}[1]{\ti{x}{#1}}
\newcommand{\iz}[1]{\ti{z}{#1}}
\newcommand{\qt}[1]{\ensuremath{q^{(#1)}}\xspace}
\newcommand{\gt}[1]{\ensuremath{g^{(#1)}}\xspace}
\newcommand{\Gt}[1]{\ensuremath{G^{(#1)}}\xspace}
\newcommand{\Ht}[1]{\ensuremath{G^{(#1)}(f)}\xspace}
\newcommand{\At}[1]{\ensuremath{\mA^{(#1)}}\xspace}
\newcommand{\Ct}[1]{\ensuremath{\mC^{(#1)}}\xspace}
\newcommand{\CCt}[1]{\ensuremath{\bar{\mC}^{(#1)}}\xspace}
\newcommand{\Att}[1]{\ensuremath{\mA^{#1}_{0}}\xspace}

\newcommand{\union}{\ensuremath{\cup}\xspace}
\newcommand{\inter}{\ensuremath{\cap}\xspace}
\newcommand{\norm}[1]{\|#1\|}
\newcommand{\la}{\ensuremath{\leftarrow}\xspace}
\newcommand{\ra}{\ensuremath{\rightarrow}\xspace}
\newcommand{\ara}[1]{\ensuremath{\xrightarrow[]{#1}}\xspace}
\newcommand{\xra}[1]{\ensuremath{\xrightarrow[#1]{ }}\xspace}
\newcommand{\nura}[1]{\ensuremath{\xrightarrow[\nu_{#1}]{ }}\xspace}
\newcommand{\drule}[3]{\dfrac{#1}{#2} ~~ #3}
\newcommand{\bul}{{\,\bullet\,}}
%\newcommand{\argmax}{\arg\max}
\DeclareMathOperator*{\argmax}{\arg\!\max}
%\newcommand{\argmin}{\arg\min}
\DeclareMathOperator*{\argmin}{\arg\!\min}
\DeclareMathOperator{\ltrim}{ltrim}
\DeclareMathOperator{\rtrim}{rtrim}
\DeclareMathOperator{\tail}{tail}
\DeclareMathOperator{\search}{search}
\DeclareMathOperator{\refine}{refine}
\DeclareMathOperator{\replace}{replace}


\newcommand{\yield}[1]{\text{yield}(#1)}
%\newcommand{\ii}[3]{\ensuremath{\,_{#1}{#2}_{#3}\xspace}}
\newcommand{\ii}[3]{\ensuremath{\xspace\tensor[_{#1}]{{#2}}{_{#3}}}\xspace}
\newcommand{\escan}[3]{\ensuremath{\xspace\tensor[_{#1}]{{S^#2}}{_{#3}}}\xspace}
\newcommand{\ecomp}[3]{\ensuremath{\xspace\tensor[_{#1}]{{C^#2}}{_{#3}}}\xspace}
\newcommand{\epred}[2]{\ensuremath{\xspace\tensor[_{#1}]{{P^#2}}{}}\xspace}

\newcommand{\true}{\ensuremath{\text{true}}}
\newcommand{\false}{\ensuremath{\text{false}}}

\newcommand{\uhigh}{\ensuremath{^{\text{\tiny high}}}}
\newcommand{\ulow}{\ensuremath{^{\text{\tiny low}}}}

\newcommand{\cellg}{\cellcolor{gray}}
\newcommand{\celldg}{\cellcolor{darkgray}}
\newcommand{\cellb}{\cellcolor{black}}


\newcommand{\insidesym}{\ensuremath{\mathsf{I}}}
\newcommand{\outsidesym}{\ensuremath{\mathsf{O}}}
\newcommand{\marginalsym}{\ensuremath{\mathsf{M}}}
\newcommand{\inside}[1]{\ensuremath{\mathsf{I}[#1]}}
\newcommand{\outside}[1]{\ensuremath{\mathsf{O}[#1]}}
\newcommand{\marginal}[1]{\ensuremath{\mathsf{M}[#1]}}
\newcommand{\normmarginal}[1]{\ensuremath{\bar{\mathsf{M}}[#1]}}



\newcommand{\wdlca}{
%\left\{
\begin{array}{l}
m = i' - i \leq d \\ 
F = 1^m0^(d-m) \\
C \wedge F = 0^d \\
\alpha_1(F) = i'' - i \\
\end{array}
%\right.
}

\newcommand{\wdlcb}{
%\left\{
\begin{array}{l}
i'' - i \leq d
m = i'' - i' + 1\\ 
p = i' - i - 1 \\
F = 0^p1^m0^{d-p-m} \\
C \wedge F = 0^d \\
\end{array}
%\right.
}


%\newcommand{\lowacl}[1]{\MakeLowercase{\protect\acl{#1}}}

%% insertions made by Marc
% color these insertions
\newcommand{\mdi}[1]{\textcolor{blue}{#1}}
% remove the coloring:
% \newcommand{\mdi}[1]{{#1}}

